
#include "Fecha.h"
#include <iostream>
#include <ctime>

////////////////////////////////////////////////////////////////////////
// Name:       Fecha::Fecha()
// Purpose:    Implementation of Fecha::Fecha()
// Return:     
////////////////////////////////////////////////////////////////////////

Fecha::Fecha()
{
}

////////////////////////////////////////////////////////////////////////
// Name:       Fecha::~Fecha()
// Purpose:    Implementation of Fecha::~Fecha()
// Return:     
////////////////////////////////////////////////////////////////////////

Fecha::~Fecha()
{
   // TODO : implement
}

////////////////////////////////////////////////////////////////////////
// Name:       Fecha::getDia()
// Purpose:    Implementation of Fecha::getDia()
// Return:     short
////////////////////////////////////////////////////////////////////////

short Fecha::getDia(void)
{
   return dia;
}

////////////////////////////////////////////////////////////////////////
// Name:       Fecha::setDia(short newDia)
// Purpose:    Implementation of Fecha::setDia()
// Parameters:
// - newDia
// Return:     void
////////////////////////////////////////////////////////////////////////

void Fecha::setDia(short newDia)
{
   dia = newDia;
}

////////////////////////////////////////////////////////////////////////
// Name:       Fecha::getMes()
// Purpose:    Implementation of Fecha::getMes()
// Return:     short
////////////////////////////////////////////////////////////////////////

short Fecha::getMes(void)
{
   return mes;
}

////////////////////////////////////////////////////////////////////////
// Name:       Fecha::setMes(short newMes)
// Purpose:    Implementation of Fecha::setMes()
// Parameters:
// - newMes
// Return:     void
////////////////////////////////////////////////////////////////////////

void Fecha::setMes(short newMes)
{
   mes = newMes;
}

////////////////////////////////////////////////////////////////////////
// Name:       Fecha::getAnio()
// Purpose:    Implementation of Fecha::getAnio()
// Return:     short
////////////////////////////////////////////////////////////////////////

short Fecha::getAnio(void)
{
   return anio;
}

////////////////////////////////////////////////////////////////////////
// Name:       Fecha::setAnio(short newAnio)
// Purpose:    Implementation of Fecha::setAnio()
// Parameters:
// - newAnio
// Return:     void
////////////////////////////////////////////////////////////////////////

void Fecha::setAnio(short newAnio)
{
   anio = newAnio;
}

////////////////////////////////////////////////////////////////////////
// Name:       Fecha::calcEdad(Fecha fechNacimiento)
// Purpose:    Implementation of Fecha::calcEdad()
// Parameters:
// - fechNacimiento
// Return:     short
////////////////////////////////////////////////////////////////////////

short Fecha::calcEdad(Fecha fechNacimiento)
{
	time_t t = time(nullptr);
	tm* now = localtime(&t);
	short edad = now->tm_year + 1900 - fechNacimiento.getAnio();
	if (now->tm_mon + 1 < fechNacimiento.getMes())
		edad--;
	else if (now->tm_mon + 1 == fechNacimiento.getMes())
		if (now->tm_mday < fechNacimiento.getDia())
			edad--;
	return edad;	
}

